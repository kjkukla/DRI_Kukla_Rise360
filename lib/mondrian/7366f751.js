"use strict";(self.webpackChunk_articulate_mondrian_bundles=self.webpackChunk_articulate_mondrian_bundles||[]).push([[880],{8761:(t,e,n)=>{n.d(e,{A:()=>l,b:()=>s});var i=n(1182),o=n.n(i),a=n(2806),r=n.n(a)()(o());r.push([t.id,".hXRin0tc .tiptap {\n  font-family: var(--mon-theme-font-body);\n  height: 100%;\n  width: 100%;\n}\n\n.hXRin0tc .tiptap :is(h1, h2) {\n  line-height: inherit;\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.hXRin0tc .tiptap :is(p, h1, h2) {\n  margin: 0;\n}\n\n.hXRin0tc .tiptap strong {\n  font-weight: bold;\n}\n\n.hXRin0tc .tiptap em {\n  font-style: italic;\n}\n\n.hXRin0tc .tiptap s {\n  text-decoration: line-through;\n}\n\n.hXRin0tc .tiptap u {\n  text-decoration: underline;\n}\n","",{version:3,sources:["webpack://./../../packages/core/src/styles/tiptap.module.css"],names:[],mappings:"AAAA;EACE,uCAAuC;EACvC,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,oBAAoB;EACpB,0CAA0C;EAC1C,kBAAkB;EAClB,oBAAoB;AACtB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,0BAA0B;AAC5B",sourcesContent:[".textItem :global(.tiptap) {\n  font-family: var(--mon-theme-font-body);\n  height: 100%;\n  width: 100%;\n}\n\n.textItem :global(.tiptap :is(h1, h2)) {\n  line-height: inherit;\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.textItem :global(.tiptap :is(p, h1, h2)) {\n  margin: 0;\n}\n\n.textItem :global(.tiptap strong) {\n  font-weight: bold;\n}\n\n.textItem :global(.tiptap em) {\n  font-style: italic;\n}\n\n.textItem :global(.tiptap s) {\n  text-decoration: line-through;\n}\n\n.textItem :global(.tiptap u) {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]);var s="hXRin0tc";const l=r},4880:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Vn});var i=n(6218);function o(t){(0,i.append_styles)(t,"svelte-su3qhz",".mondrian__img-1XHDzr{height:100%;width:100%}")}function a(t){let e,n;return{c(){e=(0,i.element)("div"),(0,i.attr)(e,"aria-label",n=t[0].alt),(0,i.attr)(e,"class","mondrian__img-1XHDzr"),(0,i.attr)(e,"role","img")},m(t,n){(0,i.insert)(t,e,n)},p(t,[o]){1&o&&n!==(n=t[0].alt)&&(0,i.attr)(e,"aria-label",n)},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e)}}}function r(t,e,n){let{item:i}=e;return t.$$set=t=>{"item"in t&&n(0,i=t.item)},[i]}n(9763);class s extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,r,a,i.safe_not_equal,{item:0},o)}}const l=s;var d=n(2604),c=n.n(d),u=n(101),m=n.n(u),p=n(5863),_=n.n(p),g=n(3124),f=n.n(g),h=n(6896),b=n.n(h),v=n(9917),$=n.n(v),y=n(8761),z={};z.styleTagTransform=$(),z.setAttributes=f(),z.insert=_().bind(null,"head"),z.domAPI=m(),z.insertStyleElement=b(),c()(y.A,z),y.A&&y.A.locals&&y.A.locals;var x=n(7268);const w="isLearn";function S(t){return`assets/${t.path}`}var C=n(6195);const k=C.z.object({id:C.z.string(),path:C.z.string(),name:C.z.string(),width:C.z.number().optional(),height:C.z.number().optional()}),A=C.z.object({unit:C.z.enum(["px","%","auto","fr"]),value:C.z.number()}),I=C.z.object({applied:C.z.boolean().default(!1),type:C.z.enum(["none","fill"]).default("none"),color:C.z.string().default("#000000"),opacity:C.z.number().default(1),style:C.z.enum(["solid","dashed","dotted"]).default("solid"),width:A.default({value:1,unit:"px"})}),E=C.z.object({assetId:C.z.string().optional(),color:C.z.string().optional(),opacity:C.z.number().min(0).max(1).default(1)}),L=E.extend({type:C.z.literal("color"),color:C.z.string().default("#e4e4e4")}),R=E.extend({type:C.z.literal("image"),assetId:C.z.string()}),j=E.extend({type:C.z.literal("none")}),M=C.z.discriminatedUnion("type",[L,R,j]),N=C.z.discriminatedUnion("type",[L,j]),Y=C.z.object({top:A.default({value:0,unit:"px"}),left:A.default({value:0,unit:"px"}),bottom:A.default({value:0,unit:"px"}),right:A.default({value:0,unit:"px"})}),K=C.z.object({id:C.z.string(),name:C.z.string().max(128)}),P=K.extend({x:A.default({value:0,unit:"px"}),y:A.default({value:0,unit:"px"}),position:C.z.literal("absolute").default("absolute"),width:A.default({value:100,unit:"%"}),height:A.default({value:100,unit:"%"}),padding:Y,fill:M,overlay:N,aspectRatioLocked:C.z.boolean(),border:I,borderRadius:C.z.object({applied:C.z.boolean().default(!1),topLeft:A.default({value:0,unit:"px"}),topRight:A.default({value:0,unit:"px"}),bottomRight:A.default({value:0,unit:"px"}),bottomLeft:A.default({value:0,unit:"px"})}),rotation:C.z.number().default(0),flipX:C.z.boolean().default(!1),flipY:C.z.boolean().default(!1)}),q=C.z.object({id:C.z.string(),event:C.z.enum(["click","hover"])}),B=q.extend({action:C.z.literal("changeState"),targetId:C.z.string(),targetState:C.z.string().default("default")}),H=q.extend({action:C.z.literal("changeVisibility"),targetId:C.z.string(),targetVisibility:C.z.boolean()}),T=C.z.discriminatedUnion("action",[B,H]),D=t=>C.z.intersection(K,t.partial()),Z=t=>C.z.intersection(C.z.object({default:t}),C.z.record(D(t))),F=t=>C.z.object({id:C.z.string(),blockumentId:C.z.string(),clonedFromId:C.z.string().optional(),parentId:C.z.string(),type:C.z.string(),name:C.z.string().max(128),tagName:C.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:C.z.boolean().default(!1),authoringVisible:C.z.boolean().default(!0),initialVisible:C.z.boolean().default(!0),initialState:C.z.string().default("default"),states:Z(t),triggers:C.z.array(T),assets:C.z.record(k).default({}).optional(),removed:C.z.boolean().default(!1)}),X=(D(P),C.z.object({id:C.z.string(),clonedFromId:C.z.string().optional(),state:C.z.string(),visible:C.z.boolean()})),U=(C.z.object({id:C.z.string(),title:C.z.string().max(255),children:C.z.array(X).max(1)}),P.extend({children:C.z.array(X)})),V=F(U).extend({type:C.z.literal("group")}),O=(D(U),F(P).extend({type:C.z.literal("image"),alt:C.z.string()})),J=C.z.intersection(C.z.object({type:C.z.string().optional(),attrs:C.z.record(C.z.any()).optional(),content:C.z.array(C.z.lazy((()=>J))).optional(),marks:C.z.array(C.z.intersection(C.z.object({type:C.z.string(),attrs:C.z.record(C.z.any()).optional()}),C.z.record(C.z.any()))).optional(),text:C.z.string().optional()}),C.z.record(C.z.any())),G=C.z.object({id:C.z.string(),type:C.z.literal("tiptap"),json:J}),W=C.z.enum(["top","middle","bottom"]),Q=P.extend({text:G,textVerticalAlign:W.default("top")}),tt=F(Q).extend({type:C.z.literal("text")}),et=(D(Q),Q.extend({clipPath:C.z.literal("ellipse").nullable().default(null)})),nt=F(et).extend({type:C.z.literal("shape")}),it=(D(et),C.z.object({default:C.z.string()})),ot=P.extend({videoSources:it}),at=F(ot).extend({type:C.z.literal("video")}),rt=(D(ot),C.z.discriminatedUnion("type",[V,O,nt,tt,at]),C.z.object({accentContrast:C.z.string(),allowSearch:C.z.boolean(),animateBlockEntrance:C.z.boolean(),blockPaddingBottom:C.z.number(),blockPaddingTop:C.z.number(),bodyTypefaceId:C.z.string(),buttonInlineStyle:C.z.string(),buttonNavigationStyle:C.z.string(),buttonScheme:C.z.string(),colorAccent:C.z.string(),compactShowLessonCount:C.z.boolean(),coverImage:C.z.string(),coverImageAlpha:C.z.number(),coverImageDefault:C.z.string(),coverPageType:C.z.string(),customColorLessonHeaderContrast:C.z.string(),enableVideoPlaybackSpeed:C.z.boolean(),headingTypefaceId:C.z.string(),hideLessonHeaders:C.z.boolean(),lessonHeaderColor:C.z.string().nullable(),lessonHeaderImage:C.z.string(),lessonHeaderImageAlpha:C.z.number(),lessonHeaderImageColor:C.z.string(),lessonHeaderSize:C.z.string(),lessonHeaderStyle:C.z.string(),markLessonsComplete:C.z.boolean(),navigation:C.z.boolean(),navigationRestricted:C.z.boolean(),navigationStyle:C.z.string(),showAuthor:C.z.boolean(),showLessonCount:C.z.boolean(),showNavigationButtons:C.z.boolean(),sidebarStartsOpen:C.z.boolean(),themeId:C.z.string(),uiTypefaceId:C.z.string()}),C.z.enum(["bold","regular","light","italic","black","semibold","semibolditalic","bolditalic","medium"])),st=C.z.object({id:C.z.string(),key:C.z.string(),original:C.z.string().nullable(),style:rt}),lt=C.z.object({id:C.z.string(),name:C.z.string(),author:C.z.string().nullable(),createdAt:C.z.string(),default:C.z.boolean(),fonts:C.z.record(st)});var dt;C.z.record(lt),function(t){t.APP="app",t.BLOCKUMENT="blockument",t.COURSE="course"}(dt||(dt={})),n(9840);var ct=n(4198),ut=n(4717),mt=n(4758),pt=n(2359),_t=n(31),gt=n(2740),ft=n(9395);const ht=/([a-z%]+)\s*$/i,bt=ct.YY.create({name:"textSize",addGlobalAttributes:()=>[{types:["textStyle"],attributes:{textSize:{default:14,parseHTML(t){const e=t.style.fontSize,n=parseFloat(e);if(isNaN(n))return null;const i=ht.exec(e);if(null==i)return null;switch(i[1]){case"rem":return Math.round(10*n);case"px":return Math.round(n);default:return null}},renderHTML:t=>({style:`font-size: ${t.textSize/10}rem`})}}}],addCommands:()=>({setTextSize:t=>({chain:e})=>e().setMark("textStyle",{textSize:t}).run()})}),vt=ct.YY.create({name:"lineHeight",addGlobalAttributes:()=>[{types:["paragraph"],attributes:{lineHeight:{default:1.2,parseHTML(t){const e=t.style.lineHeight,n=parseFloat(e);return isNaN(n)?null:n},renderHTML:t=>({style:`line-height: ${t.lineHeight};`})}}}],addCommands:()=>({setLineHeight:t=>({commands:e})=>e.updateAttributes("paragraph",{lineHeight:t})})}),$t="merriweather",yt=ct.YY.create({name:"fontFamily",addGlobalAttributes:()=>[{types:["textStyle"],attributes:{fontFamily:{default:$t,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}],addCommands:()=>({setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run()})});ut.A.configure({types:["textStyle"]});const zt=ct.YY.create({name:"init",addCommands:()=>({initFontFamily:()=>({chain:t})=>t().setFontFamily($t).run(),initLineHeight:()=>({chain:t})=>t().setLineHeight(1.2).run(),initTextSize:()=>({chain:t})=>t().setTextSize(14).run(),initColor:()=>({chain:t})=>t().setColor("#000000").run()})}),xt=[ft.A.configure({history:!1,heading:{levels:[1,2]}}),pt.A.configure({types:["heading","paragraph"]}),_t.A,ut.A,bt,vt,gt.A,mt.A,yt,zt],wt=((0,ct._w)(xt),"hover"),St="changeState",Ct="changeVisibility";var kt=n(1120);const At=new Map,It={...(0,kt.writable)(At),add:(t,e)=>(At.has(t)||At.set(t,function(t){let e,n,i;t.subscribe((t=>{e=t}));const o=(0,kt.writable)(e);o.subscribe((t=>{n=i??e,i=t}));const a={...o,revert(){a.set(n)},reset(){a.set(e)}};return a}(e)),At.get(t)),get(t){if(!At.has(t))throw new Error(`No state found for item ${t}`);return At.get(t)},resetAll(){[...At.values()].forEach((t=>{t.reset()}))}},Et=new Map,Lt={...(0,kt.writable)(Et),add:(t,e)=>(Et.set(t,function(t){let e;t.subscribe((t=>{e=t}));const n={...(0,kt.writable)(e),show(){n.set(!0)},hide(){n.set(!1)},reset(){n.set(e)}};return n}(e)),Et.get(t)),get(t){if(!Et.has(t))throw new Error(`No visibility found for item ${t}`);return Et.get(t)},resetAll(){[...Et.values()].forEach((t=>{t.reset()}))}};function Rt(t,e,n){return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}}var jt=n(4015),Mt=n.n(jt);function Nt(t,e,n=Object.keys(t.states.default)){const i=t.states.default,o=structuredClone(t.states[e]);return n.reduce(((t,e)=>(Mt()(t[e])&&(t[e]=structuredClone(i[e])),t)),o)}const Yt=({value:t,unit:e})=>{switch(e){case"auto":return"auto";case"px":return t/10+"rem";default:return(({value:t,unit:e})=>`${t}${e}`)({value:t,unit:e})}},{Map:Kt}=i.globals;function Pt(t,e,n){const i=t.slice();return i[2]=e[n],i}function qt(t,e){let n,o;return{key:t,first:null,c(){n=(0,i.element)("link"),(0,i.attr)(n,"rel","prefetch"),(0,i.attr)(n,"href",o=S(e[2])),(0,i.attr)(n,"as","image"),this.first=n},m(t,e){(0,i.insert)(t,n,e)},p(t,a){e=t,1&a&&o!==(o=S(e[2]))&&(0,i.attr)(n,"href",o)},d(t){t&&(0,i.detach)(n)}}}function Bt(t){let e,n=[],o=new Kt,a=(0,i.ensure_array_like)(t[0].values());const r=t=>t[2].id;for(let e=0;e<a.length;e+=1){let i=Pt(t,a,e),s=r(i);o.set(s,n[e]=qt(s,i))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=(0,i.empty)()},m(t,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(document.head,null);(0,i.append)(document.head,e)},p(t,[s]){1&s&&(a=(0,i.ensure_array_like)(t[0].values()),n=(0,i.update_keyed_each)(n,s,r,1,t,a,o,e.parentNode,i.destroy_block,qt,e,Pt))},i:i.noop,o:i.noop,d(t){for(let t=0;t<n.length;t+=1)n[t].d();(0,i.detach)(e)}}}function Ht(t,e,n){let i,{items:o}=e;return t.$$set=t=>{"items"in t&&n(1,o=t.items)},t.$$.update=()=>{2&t.$$.dirty&&n(0,i=new Map(o.flatMap((t=>Object.values(t.assets??{}))).map((t=>[t.id,t]))))},[i,o]}class Tt extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Ht,Bt,i.safe_not_equal,{items:1})}}const Dt=Tt;function Zt(t){(0,i.append_styles)(t,"svelte-1k5prtd",".mondrian__clipped-1EjkQh{border-radius:inherit;display:flex;height:100%;inset:0;position:absolute;width:100%;z-index:-1;transition:inherit}.mondrian__clipped-1EjkQh.mondrian__--ellipse-207jZ2{clip-path:ellipse(50% 50%)}")}function Ft(t){let e,n;const o=t[2].default,a=(0,i.create_slot)(o,t,t[1],null);return{c(){e=(0,i.element)("div"),a&&a.c(),(0,i.attr)(e,"class","mondrian__clipped-1EjkQh"),(0,i.toggle_class)(e,"mondrian__--ellipse-207jZ2","ellipse"===t[0])},m(t,o){(0,i.insert)(t,e,o),a&&a.m(e,null),n=!0},p(t,[r]){a&&a.p&&(!n||2&r)&&(0,i.update_slot_base)(a,o,t,t[1],n?(0,i.get_slot_changes)(o,t[1],r,null):(0,i.get_all_dirty_from_scope)(t[1]),null),(!n||1&r)&&(0,i.toggle_class)(e,"mondrian__--ellipse-207jZ2","ellipse"===t[0])},i(t){n||((0,i.transition_in)(a,t),n=!0)},o(t){(0,i.transition_out)(a,t),n=!1},d(t){t&&(0,i.detach)(e),a&&a.d(t)}}}function Xt(t,e,n){let{$$slots:i={},$$scope:o}=e,{clipPath:a}=e;return t.$$set=t=>{"clipPath"in t&&n(0,a=t.clipPath),"$$scope"in t&&n(1,o=t.$$scope)},[a,o,i]}class Ut extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Xt,Ft,i.safe_not_equal,{clipPath:0},Zt)}}const Vt=Ut;function Ot(t){(0,i.append_styles)(t,"svelte-1kxyd54",".mondrian__fill-2U2s0D{background-position:center;background-size:cover;inset:0;position:absolute;border-radius:inherit;transition:inherit}")}function Jt(t){let e;return{c(){e=(0,i.element)("div"),(0,i.attr)(e,"class","mondrian__fill-2U2s0D"),(0,i.set_style)(e,"background-color",t[1]),(0,i.set_style)(e,"background-image",t[2]),(0,i.set_style)(e,"opacity",t[0].opacity)},m(t,n){(0,i.insert)(t,e,n)},p(t,n){2&n&&(0,i.set_style)(e,"background-color",t[1]),4&n&&(0,i.set_style)(e,"background-image",t[2]),1&n&&(0,i.set_style)(e,"opacity",t[0].opacity)},d(t){t&&(0,i.detach)(e)}}}function Gt(t){let e,n=(null!=t[1]||null!=t[2])&&Jt(t);return{c(){n&&n.c(),e=(0,i.empty)()},m(t,o){n&&n.m(t,o),(0,i.insert)(t,e,o)},p(t,[i]){null!=t[1]||null!=t[2]?n?n.p(t,i):(n=Jt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e),n&&n.d(t)}}}function Wt(t,e,n){let{assets:i}=e,{fill:o}=e,a=null,r=null;return t.$$set=t=>{"assets"in t&&n(3,i=t.assets),"fill"in t&&n(0,o=t.fill)},t.$$.update=()=>{if(9&t.$$.dirty)switch(o?.type){case"color":n(1,a=o.color),n(2,r=null);break;case"image":{n(1,a=null);const t=i?.[o.assetId];n(2,r=null==t?null:`url("${S(t)}")`);break}default:n(1,a=n(2,r=null))}},[o,a,r,i]}class Qt extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Wt,Gt,i.safe_not_equal,{assets:3,fill:0},Ot)}}const te=Qt;function ee(t){(0,i.append_styles)(t,"svelte-a49skc","svg.mondrian__border-2HRKP_{position:absolute;pointer-events:none;z-index:-1}svg.mondrian__border-2HRKP_ path{fill:none;stroke-linecap:round}")}function ne(t){let e,n,o,a,r;return{c(){e=(0,i.svg_element)("svg"),n=(0,i.svg_element)("path"),(0,i.attr)(n,"stroke-width",t[3]),(0,i.attr)(n,"stroke",o=t[2].color),(0,i.attr)(n,"stroke-dasharray",t[5]),(0,i.attr)(n,"d",t[4]),(0,i.attr)(e,"class","mondrian__border-2HRKP_"),(0,i.attr)(e,"viewBox",t[7]),(0,i.attr)(e,"width",a=t[0].value+t[3]),(0,i.attr)(e,"height",r=t[1].value+t[3]),(0,i.set_style)(e,"inset",t[6]),(0,i.set_style)(e,"opacity",t[2].opacity)},m(t,o){(0,i.insert)(t,e,o),(0,i.append)(e,n)},p(t,s){8&s&&(0,i.attr)(n,"stroke-width",t[3]),4&s&&o!==(o=t[2].color)&&(0,i.attr)(n,"stroke",o),32&s&&(0,i.attr)(n,"stroke-dasharray",t[5]),16&s&&(0,i.attr)(n,"d",t[4]),128&s&&(0,i.attr)(e,"viewBox",t[7]),9&s&&a!==(a=t[0].value+t[3])&&(0,i.attr)(e,"width",a),10&s&&r!==(r=t[1].value+t[3])&&(0,i.attr)(e,"height",r),64&s&&(0,i.set_style)(e,"inset",t[6]),4&s&&(0,i.set_style)(e,"opacity",t[2].opacity)},d(t){t&&(0,i.detach)(e)}}}function ie(t){let e,n=t[2].applied&&ne(t);return{c(){n&&n.c(),e=(0,i.empty)()},m(t,o){n&&n.m(t,o),(0,i.insert)(t,e,o)},p(t,[i]){t[2].applied?n?n.p(t,i):(n=ne(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e),n&&n.d(t)}}}const{min:oe}=Math;function ae(t,e,n){return t+n<=e?t:t*e/(t+n)}function re(t,e,n,i,o){return oe(ae(n,e,t),ae(n,i,o))}function se(t,e,n){let i,o,a,r,s,l,d,{width:c}=e,{height:u}=e,{border:m}=e,{clipPath:p}=e,_="";return t.$$set=t=>{"width"in t&&n(0,c=t.width),"height"in t&&n(1,u=t.height),"border"in t&&n(2,m=t.border),"clipPath"in t&&n(8,p=t.clipPath)},t.$$.update=()=>{if(1&t.$$.dirty&&n(10,i=c.value),2&t.$$.dirty&&n(9,o=u.value),4&t.$$.dirty&&n(3,a=m.width.value),8&t.$$.dirty&&n(11,r=a/2),1544&t.$$.dirty&&n(7,s=`0 0 ${i+a} ${o+a}`),2048&t.$$.dirty&&n(6,l=`${-r}px auto auto ${-r}px`),3856&t.$$.dirty){if(n(4,_=`M ${r} ${r}`),"ellipse"===p)n(4,_+=` m ${i} ${o/2}`),n(4,_+=` a ${i/2} ${o/2} 0 0 1 ${-i},0`),n(4,_+=` a ${i/2} ${o/2} 0 0 1 ${i},0`);else if(p.applied){const t=p.topRight.value,e=p.bottomRight.value,a=p.bottomLeft.value,r=p.topLeft.value,s=re(r,i,t,o,e),l=re(t,o,e,i,a),d=re(e,i,a,o,r),c=re(a,o,r,i,t);n(4,_+=` m ${c} 0`),n(4,_+=` l ${i-c-s} 0 a ${s} ${s} 0 0 1 ${s},${s}`),n(4,_+=` l 0 ${o-s-l} a ${l} ${l} 0 0 1 ${-l},${l}`),n(4,_+=` l ${l+d-i} 0 a ${d} ${d} 0 0 1 ${-d},${-d}`),n(4,_+=` l 0 ${d+c-o} a ${c} ${c} 0 0 1 ${c},${-c}`)}else n(4,_+=` l ${i} 0`),n(4,_+=` l 0 ${o}`),n(4,_+=` l ${-i} 0`),n(4,_+=" l 0 "+-o);n(4,_+=" z")}12&t.$$.dirty&&n(5,d="dashed"===m.style?`${2*a} ${2*a}`:"dotted"===m.style?"0 "+2*a:void 0)},[c,u,m,a,_,d,l,s,p,o,i,r]}class le extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,se,ie,i.safe_not_equal,{width:0,height:1,border:2,clipPath:8},ee)}}const de=le;function ce(t){(0,i.append_styles)(t,"svelte-7pwgxn",".mondrian__item-2KfYSS{--mon-item-bounding-box-color:var(--mon-color-border-selected);position:absolute;z-index:1;height:max-content;width:max-content;pointer-events:var(--mon-item-pointer-events);box-sizing:border-box}.mondrian__item-2KfYSS::before{content:'';pointer-events:none;position:absolute;inset:0;outline:0 solid transparent;transition:outline 0.15s ease-in-out}.mondrian__item-2KfYSS.mondrian__--mon-dragging-4WMXeF{cursor:grab;opacity:0.3}.mondrian__item-2KfYSS.mondrian__--root-yJVkAB{position:relative}.mondrian__item-2KfYSS{opacity:1;transform:none}.mondrian__item-2KfYSS.mondrian__--smooth-transitions-MRUUSr{transition:all 100ms ease}.mondrian__item-2KfYSS.mondrian__--hidden-2NICYg .mondrian__conditionally-visible-fpTvqE{opacity:0;pointer-events:none;--mon-item-pointer-events:none}.mondrian__item-2KfYSS:is(.mondrian__--selected-1tiDfs, .mondrian__--dropping-into-1nErEL, [data-selectable-children])::before,.mondrian__item-2KfYSS.mondrian__--hover-xb3k2u:not(.mondrian__--hidden-2NICYg)::before{outline:var(--bounding-box-thickness, 0) var(--bounding-box-style, solid)\n      var(--mon-item-bounding-box-color)}.mondrian__item-2KfYSS.mondrian__--hover-xb3k2u{--bounding-box-thickness:var(--art-border-width-lg)}.mondrian__item-2KfYSS.mondrian__--selected-1tiDfs{--bounding-box-thickness:var(--art-border-width-md)}.mondrian__item-2KfYSS.mondrian__--dropping-into-1nErEL{--bounding-box-thickness:var(--art-border-width-md);--bounding-box-style:dashed}.mondrian__item-2KfYSS[data-selectable-children]::before{--bounding-box-thickness:var(--art-border-width-md);opacity:0.3}.mondrian__item-2KfYSS.mondrian__--clickable-3nvvq1{cursor:pointer}.mondrian__item-2KfYSS:is(.mondrian__--selected-1tiDfs):not(.mondrian__--hidden-2NICYg):hover{cursor:grab}.mondrian__item-2KfYSS:is(.mondrian__--selected-1tiDfs):not(.mondrian__--hidden-2NICYg):active{cursor:grabbing}.mondrian__item-2KfYSS.mondrian__--debug-21btCO::after{content:attr(data-parent-id) '>' attr(data-item-id);position:absolute;bottom:0;right:0;overflow:hidden;white-space:nowrap;padding:var(--art-space-0-25) var(--art-space-0-5);font:1.1rem / 1 monospace;background-color:#f006;-webkit-backdrop-filter:grayscale(100%) blur(3px);backdrop-filter:grayscale(100%) blur(3px);color:#000;border-radius:var(--art-border-radius-sm) 0 0 0;pointer-events:none}.mondrian__item-2KfYSS.mondrian__--preview-item-1r3kjd{--mon-item-pointer-events:none;position:static}.mondrian__item-2KfYSS:focus-visible{outline:none}.mon-app:not(.mon-meta-key-down, .mon-preview-active)\n    :is(\n      .mondrian__item-2KfYSS[data-item-type='group'] .mondrian__item-2KfYSS:not([data-selectable], .mondrian__--selected-1tiDfs)\n    ){--mon-item-pointer-events:none}.mondrian__item-2KfYSS[data-selectable]:not(.mondrian__--hidden-2NICYg){--mon-item-pointer-events:auto}.mondrian__conditionally-visible-fpTvqE{width:100%;height:100%;border-radius:inherit}")}const ue=t=>({}),me=t=>({}),pe=t=>({}),_e=t=>({}),ge=t=>({}),fe=t=>({});function he(t){let e,n;return e=new te({props:{assets:t[0].assets,fill:t[23]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};1&n[0]&&(i.assets=t[0].assets),8388608&n[0]&&(i.fill=t[23]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function be(t){let e,n;return e=new te({props:{assets:t[0].assets,fill:t[22]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};1&n[0]&&(i.assets=t[0].assets),4194304&n[0]&&(i.fill=t[22]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function ve(t){let e,n,o,a=null!=t[23]&&he(t),r=null!=t[22]&&be(t);return{c(){a&&a.c(),e=(0,i.space)(),r&&r.c(),n=(0,i.empty)()},m(t,s){a&&a.m(t,s),(0,i.insert)(t,e,s),r&&r.m(t,s),(0,i.insert)(t,n,s),o=!0},p(t,o){null!=t[23]?a?(a.p(t,o),8388608&o[0]&&(0,i.transition_in)(a,1)):(a=he(t),a.c(),(0,i.transition_in)(a,1),a.m(e.parentNode,e)):a&&((0,i.group_outros)(),(0,i.transition_out)(a,1,1,(()=>{a=null})),(0,i.check_outros)()),null!=t[22]?r?(r.p(t,o),4194304&o[0]&&(0,i.transition_in)(r,1)):(r=be(t),r.c(),(0,i.transition_in)(r,1),r.m(n.parentNode,n)):r&&((0,i.group_outros)(),(0,i.transition_out)(r,1,1,(()=>{r=null})),(0,i.check_outros)())},i(t){o||((0,i.transition_in)(a),(0,i.transition_in)(r),o=!0)},o(t){(0,i.transition_out)(a),(0,i.transition_out)(r),o=!1},d(t){t&&((0,i.detach)(e),(0,i.detach)(n)),a&&a.d(t),r&&r.d(t)}}}function $e(t){let e,n,o,a,r,s,l,d,c,u,m,p,_,g,f,h,b,v,$,y,z,x,w,S,C=`rotate(${t[16]}deg) scale(${t[14].flipX?-1:1}, ${t[14].flipY?-1:1})`;const k=t[32]["always-visible-before"],A=(0,i.create_slot)(k,t,t[38],fe);r=new Vt({props:{clipPath:t[15],$$slots:{default:[ve]},$$scope:{ctx:t}}});const I=t[32].before,E=(0,i.create_slot)(I,t,t[38],_e),L=[t[19]];var R=t[2];function j(t,e){let n={};for(let t=0;t<L.length;t+=1)n=(0,i.assign)(n,L[t]);return void 0!==e&&524288&e[0]&&(n=(0,i.assign)(n,(0,i.get_spread_update)(L,[(0,i.get_spread_object)(t[19])]))),{props:n}}R&&(d=(0,i.construct_svelte_component)(R,j(t))),u=new de({props:{width:t[14].width,height:t[14].height,border:t[14].border,clipPath:t[15]??t[14].borderRadius}});const M=t[32].after,N=(0,i.create_slot)(M,t,t[38],me);let Y=[{"data-item-type":p=t[0].type},{"data-item-id":_=t[0].id.slice(0,5)},{"data-parent-id":g=t[0].parentId.slice(0,5)},{"data-mon-locked":f=!!t[7]||void 0},{"data-mon-item-id":h=t[0].id},{"data-selectable-children":b=t[12]||void 0},{"data-selectable":v=t[13]||void 0},{"aria-hidden":$=!t[11]&&!t[5]},{class:"mondrian__item-2KfYSS"},{tabindex:"-1"}],K={};for(let t=0;t<Y.length;t+=1)K=(0,i.assign)(K,Y[t]);return{c(){e=(0,i.element)(t[0].tagName??"div"),n=(0,i.element)("div"),A&&A.c(),o=(0,i.space)(),a=(0,i.element)("div"),(0,i.create_component)(r.$$.fragment),s=(0,i.space)(),E&&E.c(),l=(0,i.space)(),d&&(0,i.create_component)(d.$$.fragment),c=(0,i.space)(),(0,i.create_component)(u.$$.fragment),m=(0,i.space)(),N&&N.c(),(0,i.attr)(n,"class","always-visible"),(0,i.attr)(a,"class","mondrian__conditionally-visible-fpTvqE"),(0,i.set_dynamic_element_data)(t[0].tagName??"div")(e,K),(0,i.toggle_class)(e,"mondrian__--debug-21btCO",!1),(0,i.toggle_class)(e,"mondrian__--mon-dragging-4WMXeF",t[8]),(0,i.toggle_class)(e,"mondrian__--root-yJVkAB",t[1]),(0,i.toggle_class)(e,"mondrian__--hidden-2NICYg",!t[11]),(0,i.toggle_class)(e,"mondrian__--selected-1tiDfs",t[5]),(0,i.toggle_class)(e,"mondrian__--dropping-into-1nErEL",t[9]),(0,i.toggle_class)(e,"mondrian__--hover-xb3k2u",t[6]),(0,i.toggle_class)(e,"mondrian__--preview-item-1r3kjd",t[4]),(0,i.toggle_class)(e,"mondrian__--clickable-3nvvq1",t[18]),(0,i.toggle_class)(e,"mondrian__--smooth-transitions-MRUUSr",t[28]),(0,i.set_style)(e,"--mon-item-border-width",t[14].border.applied?`calc(${Yt(t[14].border.width)} / 2)`:"0"),(0,i.set_style)(e,"width",t[27]),(0,i.set_style)(e,"height",t[26]),(0,i.set_style)(e,"border-radius",t[21]),(0,i.set_style)(e,"top",t[24]),(0,i.set_style)(e,"left",t[25]),(0,i.set_style)(e,"z-index",t[20]),(0,i.set_style)(e,"transform",C)},m(p,_){(0,i.insert)(p,e,_),(0,i.append)(e,n),A&&A.m(n,null),(0,i.append)(e,o),(0,i.append)(e,a),(0,i.mount_component)(r,a,null),(0,i.append)(a,s),E&&E.m(a,null),(0,i.append)(a,l),d&&(0,i.mount_component)(d,a,null),(0,i.append)(a,c),(0,i.mount_component)(u,a,null),(0,i.append)(a,m),N&&N.m(a,null),t[37](e),x=!0,w||(S=[(0,i.listen)(e,"mousedown",t[33]),(0,i.listen)(e,"click",t[34]),(0,i.listen)(e,"keydown",t[35]),(0,i.listen)(e,"keyup",t[36]),(0,i.action_destroyer)(y=t[10].call(null,e,{itemId:t[0].id,enabled:!t[7]})),(0,i.action_destroyer)(z=t[3].call(null,e,t[0]))],w=!0)},p(t,n){A&&A.p&&(!x||128&n[1])&&(0,i.update_slot_base)(A,k,t,t[38],x?(0,i.get_slot_changes)(k,t[38],n,ge):(0,i.get_all_dirty_from_scope)(t[38]),fe);const o={};if(32768&n[0]&&(o.clipPath=t[15]),12582913&n[0]|128&n[1]&&(o.$$scope={dirty:n,ctx:t}),r.$set(o),E&&E.p&&(!x||128&n[1])&&(0,i.update_slot_base)(E,I,t,t[38],x?(0,i.get_slot_changes)(I,t[38],n,pe):(0,i.get_all_dirty_from_scope)(t[38]),_e),4&n[0]&&R!==(R=t[2])){if(d){(0,i.group_outros)();const t=d;(0,i.transition_out)(t.$$.fragment,1,0,(()=>{(0,i.destroy_component)(t,1)})),(0,i.check_outros)()}R?(d=(0,i.construct_svelte_component)(R,j(t,n)),(0,i.create_component)(d.$$.fragment),(0,i.transition_in)(d.$$.fragment,1),(0,i.mount_component)(d,a,c)):d=null}else if(R){const e=524288&n[0]?(0,i.get_spread_update)(L,[(0,i.get_spread_object)(t[19])]):{};d.$set(e)}const s={};16384&n[0]&&(s.width=t[14].width),16384&n[0]&&(s.height=t[14].height),16384&n[0]&&(s.border=t[14].border),49152&n[0]&&(s.clipPath=t[15]??t[14].borderRadius),u.$set(s),N&&N.p&&(!x||128&n[1])&&(0,i.update_slot_base)(N,M,t,t[38],x?(0,i.get_slot_changes)(M,t[38],n,ue):(0,i.get_all_dirty_from_scope)(t[38]),me),(0,i.set_dynamic_element_data)(t[0].tagName??"div")(e,K=(0,i.get_spread_update)(Y,[(!x||1&n[0]&&p!==(p=t[0].type))&&{"data-item-type":p},(!x||1&n[0]&&_!==(_=t[0].id.slice(0,5)))&&{"data-item-id":_},(!x||1&n[0]&&g!==(g=t[0].parentId.slice(0,5)))&&{"data-parent-id":g},(!x||128&n[0]&&f!==(f=!!t[7]||void 0))&&{"data-mon-locked":f},(!x||1&n[0]&&h!==(h=t[0].id))&&{"data-mon-item-id":h},(!x||4096&n[0]&&b!==(b=t[12]||void 0))&&{"data-selectable-children":b},(!x||8192&n[0]&&v!==(v=t[13]||void 0))&&{"data-selectable":v},(!x||2080&n[0]&&$!==($=!t[11]&&!t[5]))&&{"aria-hidden":$},{class:"mondrian__item-2KfYSS"},{tabindex:"-1"}])),y&&(0,i.is_function)(y.update)&&129&n[0]&&y.update.call(null,{itemId:t[0].id,enabled:!t[7]}),z&&(0,i.is_function)(z.update)&&1&n[0]&&z.update.call(null,t[0]),(0,i.toggle_class)(e,"mondrian__--debug-21btCO",!1),(0,i.toggle_class)(e,"mondrian__--mon-dragging-4WMXeF",t[8]),(0,i.toggle_class)(e,"mondrian__--root-yJVkAB",t[1]),(0,i.toggle_class)(e,"mondrian__--hidden-2NICYg",!t[11]),(0,i.toggle_class)(e,"mondrian__--selected-1tiDfs",t[5]),(0,i.toggle_class)(e,"mondrian__--dropping-into-1nErEL",t[9]),(0,i.toggle_class)(e,"mondrian__--hover-xb3k2u",t[6]),(0,i.toggle_class)(e,"mondrian__--preview-item-1r3kjd",t[4]),(0,i.toggle_class)(e,"mondrian__--clickable-3nvvq1",t[18]),(0,i.toggle_class)(e,"mondrian__--smooth-transitions-MRUUSr",t[28]),16384&n[0]&&(0,i.set_style)(e,"--mon-item-border-width",t[14].border.applied?`calc(${Yt(t[14].border.width)} / 2)`:"0"),134217728&n[0]&&(0,i.set_style)(e,"width",t[27]),67108864&n[0]&&(0,i.set_style)(e,"height",t[26]),2097152&n[0]&&(0,i.set_style)(e,"border-radius",t[21]),16777216&n[0]&&(0,i.set_style)(e,"top",t[24]),33554432&n[0]&&(0,i.set_style)(e,"left",t[25]),1048576&n[0]&&(0,i.set_style)(e,"z-index",t[20]),81920&n[0]&&C!==(C=`rotate(${t[16]}deg) scale(${t[14].flipX?-1:1}, ${t[14].flipY?-1:1})`)&&(0,i.set_style)(e,"transform",C)},i(t){x||((0,i.transition_in)(A,t),(0,i.transition_in)(r.$$.fragment,t),(0,i.transition_in)(E,t),d&&(0,i.transition_in)(d.$$.fragment,t),(0,i.transition_in)(u.$$.fragment,t),(0,i.transition_in)(N,t),x=!0)},o(t){(0,i.transition_out)(A,t),(0,i.transition_out)(r.$$.fragment,t),(0,i.transition_out)(E,t),d&&(0,i.transition_out)(d.$$.fragment,t),(0,i.transition_out)(u.$$.fragment,t),(0,i.transition_out)(N,t),x=!1},d(n){n&&(0,i.detach)(e),A&&A.d(n),(0,i.destroy_component)(r),E&&E.d(n),d&&(0,i.destroy_component)(d),(0,i.destroy_component)(u),N&&N.d(n),t[37](null),w=!1,(0,i.run_all)(S)}}}function ye(t){let e,n,o=t[0].tagName??"div",a=(t[0].tagName??"div")&&$e(t);return{c(){a&&a.c(),e=(0,i.empty)()},m(t,o){a&&a.m(t,o),(0,i.insert)(t,e,o),n=!0},p(t,n){t[0].tagName??"div"?o?(0,i.safe_not_equal)(o,t[0].tagName??"div")?(a.d(1),a=$e(t),o=t[0].tagName??"div",a.c(),a.m(e.parentNode,e)):a.p(t,n):(a=$e(t),o=t[0].tagName??"div",a.c(),a.m(e.parentNode,e)):o&&(a.d(1),a=null,o=t[0].tagName??"div")},i(t){n||((0,i.transition_in)(a,t),n=!0)},o(t){(0,i.transition_out)(a,t),n=!1},d(t){t&&(0,i.detach)(e),a&&a.d(t)}}}function ze({event:t}){return"click"===t}function xe(t,e,n){let o,a,r,s,l,d,c,u,m,p,_,g,f,h,b,{$$slots:v={},$$scope:$}=e,{item:y}=e,{idx:z=0}=e,{isRoot:S=!1}=e,{ItemComponent:C}=e,{bindTriggers:k=(()=>{})}=e,{stateId:A}=e,{isPreviewItem:I=!1}=e,{isSelected:E=!1}=e,{isHovered:L=!1}=e,{isLocked:R=!1}=e,{isDragging:j=!1}=e,{isDroppingInto:M=!1}=e,{hoverItem:N=(()=>{})}=e,{visible:Y}=e,{selectableChildren:K=!1}=e,{selectable:P=!1}=e;const q=(0,x.getContext)(w)??!1;return t.$$set=t=>{"item"in t&&n(0,y=t.item),"idx"in t&&n(29,z=t.idx),"isRoot"in t&&n(1,S=t.isRoot),"ItemComponent"in t&&n(2,C=t.ItemComponent),"bindTriggers"in t&&n(3,k=t.bindTriggers),"stateId"in t&&n(30,A=t.stateId),"isPreviewItem"in t&&n(4,I=t.isPreviewItem),"isSelected"in t&&n(5,E=t.isSelected),"isHovered"in t&&n(6,L=t.isHovered),"isLocked"in t&&n(7,R=t.isLocked),"isDragging"in t&&n(8,j=t.isDragging),"isDroppingInto"in t&&n(9,M=t.isDroppingInto),"hoverItem"in t&&n(10,N=t.hoverItem),"visible"in t&&n(11,Y=t.visible),"selectableChildren"in t&&n(12,K=t.selectableChildren),"selectable"in t&&n(13,P=t.selectable),"$$scope"in t&&n(38,$=t.$$scope)},t.$$.update=()=>{if(1073741825&t.$$.dirty[0]&&n(14,o=Nt(y,A)),81920&t.$$.dirty[0]|1&t.$$.dirty[1]){const t=o.rotation??0;if(null==f)n(16,h=t);else if(t!==f){let e=t-f;e>180?e-=360:e<=-180&&(e+=360),n(16,h+=e)}n(31,f=t)}16384&t.$$.dirty[0]&&n(27,a=Yt(o.width)),16384&t.$$.dirty[0]&&n(26,r=Yt(o.height)),16384&t.$$.dirty[0]&&n(25,s=Yt(o.x)),16384&t.$$.dirty[0]&&n(24,l=Yt(o.y)),16384&t.$$.dirty[0]&&n(23,d=o.fill),16384&t.$$.dirty[0]&&n(22,c=o.overlay),16384&t.$$.dirty[0]&&n(15,u="clipPath"in o?o.clipPath:null),49152&t.$$.dirty[0]&&n(21,m=o.borderRadius.applied&&!u?[o.borderRadius.topLeft,o.borderRadius.topRight,o.borderRadius.bottomRight,o.borderRadius.bottomLeft].map(Yt).join(" "):void 0),536870912&t.$$.dirty[0]&&n(20,p=9999-z),1073741825&t.$$.dirty[0]&&n(19,_=function(t,e){switch(t){case"text":case"shape":case"video":return{item:y,isPreviewItem:I,stateId:e};default:return{item:y}}}(y.type,A)),1&t.$$.dirty[0]&&n(18,g=y?.triggers.some(ze))},[y,S,C,k,I,E,L,R,j,M,N,Y,K,P,o,u,h,b,g,_,p,m,c,d,l,s,r,a,q,z,A,f,v,function(e){i.bubble.call(this,t,e)},function(e){i.bubble.call(this,t,e)},function(e){i.bubble.call(this,t,e)},function(e){i.bubble.call(this,t,e)},function(t){i.binding_callbacks[t?"unshift":"push"]((()=>{b=t,n(17,b)}))},$]}class we extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,xe,ye,i.safe_not_equal,{item:0,idx:29,isRoot:1,ItemComponent:2,bindTriggers:3,stateId:30,isPreviewItem:4,isSelected:5,isHovered:6,isLocked:7,isDragging:8,isDroppingInto:9,hoverItem:10,visible:11,selectableChildren:12,selectable:13},ce,[-1,-1])}}const Se=we;function Ce(t){(0,i.append_styles)(t,"svelte-1yj4zp1",".mondrian__text-item-base-2q77nm{display:flex;flex-direction:column;height:100%;min-height:inherit;display:flex;justify-content:center;align-items:center}.mondrian__text-item-clip-boundary-B34Z_E{width:100%;height:100%;position:relative}.mondrian__text-item-clip-boundary-B34Z_E.mondrian__--ellipse-3Gq9Cn{width:calc(100% / sqrt(2));height:calc(100% / sqrt(2))}.mondrian__text-item-padding-boundary-33NSaZ{display:flex;flex-direction:column;position:absolute}.mondrian__--padded-1Jm39o.mondrian__text-item-padding-boundary-33NSaZ{inset:16px}.mondrian__--padded-1Jm39o.mondrian__text-item-padding-boundary-33NSaZ.mondrian__--small-1sCPzg{left:8px;right:8px}.mondrian__--padded-1Jm39o.mondrian__text-item-padding-boundary-33NSaZ.mondrian__--large-K6ARVL{left:32px;right:32px}.mondrian__text-item-padding-boundary-33NSaZ[data-vertical-align='top']{justify-content:flex-start}.mondrian__text-item-padding-boundary-33NSaZ[data-vertical-align='middle']{justify-content:center}.mondrian__text-item-padding-boundary-33NSaZ[data-vertical-align='bottom']{justify-content:flex-end}.mondrian__text-item-base-2q77nm .tiptap{height:auto}")}const ke=t=>({item:1&t}),Ae=t=>({item:t[0]});function Ie(t){let e,n,o,a,r;const s=t[6].default,l=(0,i.create_slot)(s,t,t[5],Ae);return{c(){e=(0,i.element)("div"),n=(0,i.element)("div"),o=(0,i.element)("div"),l&&l.c(),(0,i.attr)(o,"class","mondrian__text-item-padding-boundary-33NSaZ"),(0,i.attr)(o,"data-vertical-align",a=t[1].textVerticalAlign),(0,i.toggle_class)(o,"mondrian__--small-1sCPzg",t[3]<=100),(0,i.toggle_class)(o,"mondrian__--large-K6ARVL",t[3]>300),(0,i.toggle_class)(o,"mondrian__--padded-1Jm39o","shape"===t[0].type),(0,i.attr)(n,"class","mondrian__text-item-clip-boundary-B34Z_E"),(0,i.toggle_class)(n,"mondrian__--ellipse-3Gq9Cn",t[2]),(0,i.attr)(e,"class","mondrian__text-item-base-2q77nm")},m(t,a){(0,i.insert)(t,e,a),(0,i.append)(e,n),(0,i.append)(n,o),l&&l.m(o,null),r=!0},p(t,[e]){l&&l.p&&(!r||33&e)&&(0,i.update_slot_base)(l,s,t,t[5],r?(0,i.get_slot_changes)(s,t[5],e,ke):(0,i.get_all_dirty_from_scope)(t[5]),Ae),(!r||2&e&&a!==(a=t[1].textVerticalAlign))&&(0,i.attr)(o,"data-vertical-align",a),(!r||8&e)&&(0,i.toggle_class)(o,"mondrian__--small-1sCPzg",t[3]<=100),(!r||8&e)&&(0,i.toggle_class)(o,"mondrian__--large-K6ARVL",t[3]>300),(!r||1&e)&&(0,i.toggle_class)(o,"mondrian__--padded-1Jm39o","shape"===t[0].type),(!r||4&e)&&(0,i.toggle_class)(n,"mondrian__--ellipse-3Gq9Cn",t[2])},i(t){r||((0,i.transition_in)(l,t),r=!0)},o(t){(0,i.transition_out)(l,t),r=!1},d(t){t&&(0,i.detach)(e),l&&l.d(t)}}}function Ee(t,e,n){let i,o,a,{$$slots:r={},$$scope:s}=e,{item:l}=e,{stateId:d}=e;return t.$$set=t=>{"item"in t&&n(0,l=t.item),"stateId"in t&&n(4,d=t.stateId),"$$scope"in t&&n(5,s=t.$$scope)},t.$$.update=()=>{17&t.$$.dirty&&n(1,i=Nt(l,d)),2&t.$$.dirty&&n(3,o=i.width.value),2&t.$$.dirty&&n(2,a="clipPath"in i&&"ellipse"===i.clipPath)},[l,i,a,o,d,s,r]}class Le extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Ee,Ie,i.safe_not_equal,{item:0,stateId:4},Ce)}}const Re=Le;var je=n(3948);function Me(t){let e,n;return e=new Re({props:{item:t[0],stateId:t[1],$$slots:{default:[Ne]},$$scope:{ctx:t}}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};1&n&&(i.item=t[0]),2&n&&(i.stateId=t[1]),12&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Ne(t){let e,n,o=(0,je.Z)(t[2],xt)+"";return{c(){e=(0,i.element)("div"),n=(0,i.element)("div"),(0,i.attr)(n,"class","tiptap ProseMirror"),(0,i.attr)(e,"class",Be)},m(t,a){(0,i.insert)(t,e,a),(0,i.append)(e,n),n.innerHTML=o},p(t,e){4&e&&o!==(o=(0,je.Z)(t[2],xt)+"")&&(n.innerHTML=o)},d(t){t&&(0,i.detach)(e)}}}function Ye(t){let e,n,o=void 0!==t[2]&&Me(t);return{c(){o&&o.c(),e=(0,i.empty)()},m(t,a){o&&o.m(t,a),(0,i.insert)(t,e,a),n=!0},p(t,[n]){void 0!==t[2]?o?(o.p(t,n),4&n&&(0,i.transition_in)(o,1)):(o=Me(t),o.c(),(0,i.transition_in)(o,1),o.m(e.parentNode,e)):o&&((0,i.group_outros)(),(0,i.transition_out)(o,1,1,(()=>{o=null})),(0,i.check_outros)())},i(t){n||((0,i.transition_in)(o),n=!0)},o(t){(0,i.transition_out)(o),n=!1},d(t){t&&(0,i.detach)(e),o&&o.d(t)}}}function Ke(t,e,n){let{item:i}=e,{stateId:o}=e,{doc:a}=e;return t.$$set=t=>{"item"in t&&n(0,i=t.item),"stateId"in t&&n(1,o=t.stateId),"doc"in t&&n(2,a=t.doc)},[i,o,a]}class Pe extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Ke,Ye,i.safe_not_equal,{item:0,stateId:1,doc:2})}}const qe=Pe;i.SvelteComponent;const Be=y.b;function He(t){(0,i.append_styles)(t,"svelte-1wojxzu","video.mondrian__mon-item-video-19vZAN{object-fit:cover;height:100%;width:100%}")}function Te(t){let e,n;return{c(){e=(0,i.element)("video"),(0,i.attr)(e,"class","mondrian__mon-item-video-19vZAN"),(0,i.src_url_equal)(e.src,n=t[1])||(0,i.attr)(e,"src",n),e.controls=!0},m(t,n){(0,i.insert)(t,e,n)},p(t,o){2&o&&!(0,i.src_url_equal)(e.src,n=t[1])&&(0,i.attr)(e,"src",n)},d(t){t&&(0,i.detach)(e)}}}function De(t){let e,n=t[0],o=Te(t);return{c(){o.c(),e=(0,i.empty)()},m(t,n){o.m(t,n),(0,i.insert)(t,e,n)},p(t,[a]){1&a&&(0,i.safe_not_equal)(n,n=t[0])?(o.d(1),o=Te(t),o.c(),o.m(e.parentNode,e)):o.p(t,a)},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e),o.d(t)}}}function Ze(t,e,n){let i,{item:o}=e,{stateId:a}=e;return t.$$set=t=>{"item"in t&&n(2,o=t.item),"stateId"in t&&n(0,a=t.stateId)},t.$$.update=()=>{if(5&t.$$.dirty){const t=(o.states[a].videoSources??o.states.default.videoSources).default,e=t&&o.assets?.[t];n(1,i=e?S(e):void 0)}},[a,i,o]}class Fe extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Ze,De,i.safe_not_equal,{item:2,stateId:0},He)}}const Xe=Fe;function Ue(t){let e,n;return e=new qe({props:{doc:t[2],item:t[0],stateId:t[1]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,[n]){const i={};4&n&&(i.doc=t[2]),1&n&&(i.item=t[0]),2&n&&(i.stateId=t[1]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Ve(t,e,n){let i,o,{item:a}=e,{stateId:r}=e;return t.$$set=t=>{"item"in t&&n(0,a=t.item),"stateId"in t&&n(1,r=t.stateId)},t.$$.update=()=>{3&t.$$.dirty&&n(3,i=Nt(a,r,["text"])),8&t.$$.dirty&&n(2,o=i?.text?.json)},[a,r,o,i]}class Oe extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Ve,Ue,i.safe_not_equal,{item:0,stateId:1})}}const Je=Oe;function Ge(t){(0,i.append_styles)(t,"svelte-1vwx6yd",".mondrian__surface-3PSuzl{width:100%;position:relative}")}function We(t,e,n){const i=t.slice();return i[5]=e[n],i[7]=n,i}function Qe(t,e){let n,o,a,r;var s=e[0];function l(t,e){return{props:{idx:t[7],itemId:t[5].id}}}return s&&(o=(0,i.construct_svelte_component)(s,l(e))),{key:t,first:null,c(){n=(0,i.empty)(),o&&(0,i.create_component)(o.$$.fragment),a=(0,i.empty)(),this.first=n},m(t,e){(0,i.insert)(t,n,e),o&&(0,i.mount_component)(o,t,e),(0,i.insert)(t,a,e),r=!0},p(t,n){if(e=t,1&n&&s!==(s=e[0])){if(o){(0,i.group_outros)();const t=o;(0,i.transition_out)(t.$$.fragment,1,0,(()=>{(0,i.destroy_component)(t,1)})),(0,i.check_outros)()}s?(o=(0,i.construct_svelte_component)(s,l(e)),(0,i.create_component)(o.$$.fragment),(0,i.transition_in)(o.$$.fragment,1),(0,i.mount_component)(o,a.parentNode,a)):o=null}else if(s){const t={};2&n&&(t.idx=e[7]),2&n&&(t.itemId=e[5].id),o.$set(t)}},i(t){r||(o&&(0,i.transition_in)(o.$$.fragment,t),r=!0)},o(t){o&&(0,i.transition_out)(o.$$.fragment,t),r=!1},d(t){t&&((0,i.detach)(n),(0,i.detach)(a)),o&&(0,i.destroy_component)(o,t)}}}function tn(t){let e,n,o=[],a=new Map,r=(0,i.ensure_array_like)(t[1].children??[]);const s=t=>t[5].id;for(let e=0;e<r.length;e+=1){let n=We(t,r,e),i=s(n);a.set(i,o[e]=Qe(i,n))}return{c(){e=(0,i.element)("div");for(let t=0;t<o.length;t+=1)o[t].c();(0,i.attr)(e,"class","mondrian__surface-3PSuzl")},m(t,a){(0,i.insert)(t,e,a);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);n=!0},p(t,[n]){3&n&&(r=(0,i.ensure_array_like)(t[1].children??[]),(0,i.group_outros)(),o=(0,i.update_keyed_each)(o,n,s,1,t,r,a,e,i.outro_and_destroy_block,Qe,null,We),(0,i.check_outros)())},i(t){if(!n){for(let t=0;t<r.length;t+=1)(0,i.transition_in)(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)(0,i.transition_out)(o[t]);n=!1},d(t){t&&(0,i.detach)(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function en(t,e,n){let o,a,{item:r}=e,{Item:s=cn}=e;const l=It.get(r.id);return(0,i.component_subscribe)(t,l,(t=>n(4,a=t))),t.$$set=t=>{"item"in t&&n(3,r=t.item),"Item"in t&&n(0,s=t.Item)},t.$$.update=()=>{24&t.$$.dirty&&n(1,o=r.states[a])},[s,o,l,r,a]}class nn extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,en,tn,i.safe_not_equal,{item:3,Item:0},Ge)}}const on=nn,an=(t,e)=>{function n(n,i={}){e.triggers.filter((t=>t.event===n)).forEach((n=>{!function(t,e,n){e.dispatchEvent(new CustomEvent("trigger",{detail:n,bubbles:!0}))}(0,t,{itemId:e.id,triggerId:n.id,...i})}))}const i=[...new Set(e.triggers.map((t=>t.event)))].map((e=>e===wt?[Rt("mouseenter",t,(()=>{n(e,{hovered:!0})})),Rt("mouseleave",t,(()=>{n(e,{hovered:!1})}))]:Rt(e,t,(()=>{n(e)})))).flat(2).filter(Boolean);return{destroy(){i.forEach((t=>{t()}))}}},rn=function(){const t=(0,kt.writable)({blockuments:{},items:{}}),{subscribe:e,set:n,update:i}=t,o=new Map;return{subscribe:e,set:n,update:i,addManifest:(t,e)=>{o.set(t,e),a()},removeManifest:t=>{o.delete(t),a()}};function a(){n(function(...t){const e={};for(const n of t)for(const[t,i]of Object.entries(n))e[t]=Object.assign({},e[t],i);return e}(...o.values()))}}();function sn(t){let e,n;return e=new Se({props:{item:t[2],idx:t[0],isRoot:t[1],stateId:t[5],ItemComponent:t[4],bindTriggers:an,visible:t[6]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,[n]){const i={};4&n&&(i.item=t[2]),1&n&&(i.idx=t[0]),2&n&&(i.isRoot=t[1]),32&n&&(i.stateId=t[5]),16&n&&(i.ItemComponent=t[4]),64&n&&(i.visible=t[6]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function ln(t,e,n){let o,a,r,s,d,c,u=i.noop;(0,i.component_subscribe)(t,rn,(t=>n(9,s=t))),t.$$.on_destroy.push((()=>u()));let{itemId:m}=e,{idx:p=0}=e,{isRoot:_=!1}=e;const g=Lt.get(m);return(0,i.component_subscribe)(t,g,(t=>n(6,c=t))),t.$$set=t=>{"itemId"in t&&n(8,m=t.itemId),"idx"in t&&n(0,p=t.idx),"isRoot"in t&&n(1,_=t.isRoot)},t.$$.update=()=>{768&t.$$.dirty&&n(2,o=s.items[m]),4&t.$$.dirty&&n(4,a=(t=>({image:l,text:Je,group:on,shape:Je,video:Xe}[t.type]))(o)),4&t.$$.dirty&&(n(3,r=It.get(o.id)),u(),u=(0,i.subscribe)(r,(t=>n(5,d=t))))},[p,_,o,r,a,d,c,g,m,s]}class dn extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,ln,sn,i.safe_not_equal,{itemId:8,idx:0,isRoot:1})}}const cn=dn;n(2466);var un=n(9205);const mn=n.n(un)()("mondrian").extend("keyboard"),pn=(Object.freeze(["Alt","Control","Meta","Shift"]),{activeModifierKeys:new Set,get alt(){return pn.activeModifierKeys.has("Alt")},get meta(){return pn.activeModifierKeys.has("Meta")||pn.activeModifierKeys.has("Control")},get shift(){return pn.activeModifierKeys.has("Shift")},key:void 0,get combo(){return[pn.meta&&"Meta",pn.alt&&"Alt",pn.shift&&"Shift",pn.key].filter(Boolean).join("+")}});function _n({metaKey:t,altKey:e,shiftKey:n,ctrlKey:i},o){let a=!1;return t!==o.has("Meta")&&(a=!0,t?o.add("Meta"):o.delete("Meta")),e!==o.has("Alt")&&(a=!0,e?o.add("Alt"):o.delete("Alt")),n!==o.has("Shift")&&(a=!0,n?o.add("Shift"):o.delete("Shift")),i!==o.has("Control")&&(a=!0,i?o.add("Control"):o.delete("Control")),a}let gn=!1;const fn={...(0,kt.readable)(pn,(t=>{function e(e){const n="keydown"===e.type;_n(e,pn.activeModifierKeys),pn.key=n?e.key:void 0,t(pn)}function n(e){_n(e,pn.activeModifierKeys)&&t(pn)}gn||(gn=!0,window.addEventListener("keydown",e),window.addEventListener("keyup",e),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&(pn.activeModifierKeys.clear(),pn.key=void 0,t(pn))})),window.addEventListener("blur",(function(){pn.activeModifierKeys.clear(),pn.key=void 0,t(pn)})),window.addEventListener("mousedown",n,{passive:!0,capture:!0}),window.addEventListener("mousemove",n,{passive:!0,capture:!0}))})),is:t=>(pn.combo&&mn(`comparing keycombos, store: ${pn.combo}, comparison: ${t}`),pn.combo.toLowerCase()===t.toLowerCase()),on(t,e){const n=n=>{fn.is(t)&&(mn("keyCombo matched, executing handler",t),e(n))};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}}},hn={down:!1,downX:-1,downY:-1,target:void 0,x:-1,y:-1},bn=((0,kt.readable)(hn,(t=>{return window.addEventListener("mousedown",e),window.addEventListener("mousemove",i),window.addEventListener("mouseup",n),function(){window.removeEventListener("mousedown",e),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",n)};function e(t){hn.down=!0,hn.downX=hn.x=t.clientX,hn.downY=hn.y=t.clientY,hn.target=t.target,o()}function n(){hn.down=!1,hn.downX=hn.x=hn.downY=hn.y=-1,hn.target=void 0,o()}function i(t){hn.x=t.x,hn.y=t.y,o()}function o(){t(hn)}})),"mondrian-suspense");i.SvelteComponent,n(2732);var vn=n(5494);const $n={nw:"top-start",n:"top",ne:"top-end",sw:"bottom-start",s:"bottom",se:"bottom-end"},yn=new ResizeObserver(Cn);let zn,xn,wn;function Sn(t){const e=function(t){for(let e=t;e;e=e.parentElement)if(e.classList.contains("mon-tooltip-anchor"))return e}(t.target);if(e===zn)return;xn&&(xn.removeAttribute("data-active"),yn.unobserve(xn));const n=e?.querySelector("[data-mon-tooltip]");if(!n||n.getAttribute("aria-hidden"))return zn=void 0,void(xn=void 0);n.setAttribute("data-active","true"),n.showPopover(),zn=e,xn=n,wn=xn.querySelector("[data-mon-tooltip-arrow]"),Cn(),yn.observe(xn)}async function Cn(){if(zn&&xn){const{x:t,y:e,middlewareData:n}=await(0,vn.rD)(zn,xn,{middleware:[(0,vn.cY)(5),(0,vn.UU)(),(0,vn.BN)(),(0,vn.UE)({element:wn})],strategy:"fixed",placement:$n[xn.getAttribute("data-position")]});if(xn.style.transform=`translate(${t}px,${e}px)`,n.arrow){const{x:t,y:e}=n.arrow;wn.style.left=null!=t?`${t}px`:"",wn.style.top=null!=e?`${e}px`:""}}}function kn(t){(0,i.append_styles)(t,"svelte-1ooljvd",".mondrian__suspense-3tgPBN.mondrian__--loading-3irTkJ{visibility:hidden}")}document.addEventListener("mouseover",Sn,{passive:!0}),document.documentElement.addEventListener("mouseleave",Sn,{passive:!0}),document.addEventListener("scroll",Cn,{passive:!0,capture:!0}),i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,n(9777),i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent;const An=t=>({isLoading:1&t}),In=t=>({isLoading:t[0]});function En(t){let e,n;const o=t[2].default,a=(0,i.create_slot)(o,t,t[1],In);return{c(){e=(0,i.element)("div"),a&&a.c(),(0,i.attr)(e,"class","mondrian__suspense-3tgPBN"),(0,i.toggle_class)(e,"mondrian__--loading-3irTkJ",t[0])},m(t,o){(0,i.insert)(t,e,o),a&&a.m(e,null),n=!0},p(t,[r]){a&&a.p&&(!n||3&r)&&(0,i.update_slot_base)(a,o,t,t[1],n?(0,i.get_slot_changes)(o,t[1],r,An):(0,i.get_all_dirty_from_scope)(t[1]),In),(!n||1&r)&&(0,i.toggle_class)(e,"mondrian__--loading-3irTkJ",t[0])},i(t){n||((0,i.transition_in)(a,t),n=!0)},o(t){(0,i.transition_out)(a,t),n=!1},d(t){t&&(0,i.detach)(e),a&&a.d(t)}}}function Ln(t,e,n){let{$$slots:i={},$$scope:o}=e;const a=function(){const t=new Set;return(0,x.setContext)(bn,t),t}();let r=!0;return(0,x.onMount)((()=>{Promise.all(a).then((()=>{n(0,r=!1)}))})),t.$$set=t=>{"$$scope"in t&&n(1,o=t.$$scope)},[r,o,i]}class Rn extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Ln,En,i.safe_not_equal,{},kn)}}const jn=Rn;i.SvelteComponent,i.SvelteComponent;const Mn={[St](t,e,n,i){const o="self"===t.targetId?n:i[t.targetId];!1===e.hovered?It.get(o.id)?.revert():It.get(o.id)?.set(t.targetState)},[Ct](t,e,n,i){const o="self"===t.targetId?n:i[t.targetId];!1===e.hovered?Lt.get(o.id)?.set(!t.targetVisibility):Lt.get(o.id)?.set(t.targetVisibility)}},Nn=(t,e)=>{const n=Rt("trigger",t,(t=>{const{itemId:n,triggerId:i,...o}=t.detail,a=e[n];if(!a)throw new Error(`Could not execute trigger ${i} on item ${n} because the item could not be found.`);const r=a.triggers.find((t=>t.id===i));if(!r)throw new Error(`Could not execute trigger ${i} on item ${n} because the trigger could not be found.`);const s=Mn[r.action];if(!s)throw new Error(`Could not execute trigger ${i} on item ${n} because an appropriate handler for its '${r.action}' action could not be found.`);s(r,o,a,e)}));return{destroy(){n()}}};function Yn(t){(0,i.append_styles)(t,"svelte-77hy6u",".mondrian__preview-iqC-qU{display:flex;justify-content:center;align-items:center;position:relative;z-index:0;width:100%;overflow:hidden}.mondrian__preview--empty-8PRKIt{background-color:var(--art-color-neutral-050)}.mondrian__item-wrapper-17_0Fx{transform-origin:center;display:flex;justify-content:center;align-items:center}")}function Kn(t){let e,n;return e=new Dt({props:{items:t[9]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p:i.noop,i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Pn(t){let e,n;return e=new jn({props:{$$slots:{default:[Bn]},$$scope:{ctx:t}}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};131116&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function qn(t){let e,n,o,a;return{c(){e=(0,i.element)("div"),n=(0,i.text)("Block "),o=(0,i.text)(t[0]),a=(0,i.text)(" could not be loaded")},m(t,r){(0,i.insert)(t,e,r),(0,i.append)(e,n),(0,i.append)(e,o),(0,i.append)(e,a)},p(t,e){1&e&&(0,i.set_data)(o,t[0])},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e)}}}function Bn(t){let e,n,o,a,r,s,l;return o=new cn({props:{itemId:t[16].id,isRoot:!0}}),{c(){e=(0,i.element)("div"),n=(0,i.element)("div"),(0,i.create_component)(o.$$.fragment),(0,i.attr)(n,"class","mondrian__item-wrapper-17_0Fx"),(0,i.attr)(e,"class","mondrian__preview-iqC-qU"),(0,i.toggle_class)(e,"mondrian__preview--empty-8PRKIt",t[5])},m(d,c){(0,i.insert)(d,e,c),(0,i.append)(e,n),(0,i.mount_component)(o,n,null),t[11](n),t[12](e),r=!0,s||(l=(0,i.action_destroyer)(a=Nn.call(null,e,t[7])),s=!0)},p(t,n){(!r||32&n)&&(0,i.toggle_class)(e,"mondrian__preview--empty-8PRKIt",t[5])},i(t){r||((0,i.transition_in)(o.$$.fragment,t),r=!0)},o(t){(0,i.transition_out)(o.$$.fragment,t),r=!1},d(n){n&&(0,i.detach)(e),(0,i.destroy_component)(o),t[11](null),t[12](null),s=!1,l()}}}function Hn(t){let e,n,o,a,r,s=t[1]&&Kn(t);const l=[qn,Pn],d=[];function c(t,e){return 1===e?function(t){const e=t.slice(),n=e[7][e[8]];return e[16]=n,e}(t):t}return n=function(t,e){return void 0===t[6]||void 0===t[8]?0:1}(t),o=d[n]=l[n](c(t,n)),{c(){s&&s.c(),e=(0,i.space)(),o.c(),a=(0,i.empty)()},m(t,o){s&&s.m(t,o),(0,i.insert)(t,e,o),d[n].m(t,o),(0,i.insert)(t,a,o),r=!0},p(t,[a]){t[1]?s?(s.p(t,a),2&a&&(0,i.transition_in)(s,1)):(s=Kn(t),s.c(),(0,i.transition_in)(s,1),s.m(e.parentNode,e)):s&&((0,i.group_outros)(),(0,i.transition_out)(s,1,1,(()=>{s=null})),(0,i.check_outros)()),o.p(c(t,n),a)},i(t){r||((0,i.transition_in)(s),(0,i.transition_in)(o),r=!0)},o(t){(0,i.transition_out)(s),(0,i.transition_out)(o),r=!1},d(t){t&&((0,i.detach)(e),(0,i.detach)(a)),s&&s.d(t),d[n].d(t)}}}function Tn(t,e,n){let o,a,r,s=i.noop;t.$$.on_destroy.push((()=>s()));let{manifest:l}=e,{blockumentId:d}=e,{prefetch:c=!0}=e;(0,x.setContext)(w,!0);const u=Symbol("LearnComponent"),m=l.blockuments?.[d],p=l.items??{},_=m?.children[0]?.id,g=Object.values(p);let f,h;return rn.addManifest(u,l),g.forEach((t=>{It.add(t.id,(0,kt.readable)(t.initialState)),Lt.add(t.id,(0,kt.readable)(t.initialVisible))})),(0,x.onMount)((()=>{It.resetAll(),Lt.resetAll();const t=new ResizeObserver((()=>{f&&h&&function(){if(!(_&&f&&h&&r))return;const t=p[_],{width:e,height:i}=Nt(t,r,["width","height"]),o=f.offsetWidth,a=Math.min(1,o/e.value);n(3,h.style.transform=`scale(${a})`,h),n(2,f.style.height=i.value*a+"px",f)}()}));return f&&t.observe(f),()=>{t.disconnect()}})),(0,x.onDestroy)((()=>{rn.removeManifest(u)})),t.$$set=t=>{"manifest"in t&&n(10,l=t.manifest),"blockumentId"in t&&n(0,d=t.blockumentId),"prefetch"in t&&n(1,c=t.prefetch)},n(5,o=1===Object.keys(p).length),n(4,a=_?It.get(_):void 0),s(),s=(0,i.subscribe)(a,(t=>n(13,r=t))),[d,c,f,h,a,o,m,p,_,g,l,function(t){i.binding_callbacks[t?"unshift":"push"]((()=>{h=t,n(3,h)}))},function(t){i.binding_callbacks[t?"unshift":"push"]((()=>{f=t,n(2,f)}))}]}class Dn extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Tn,Hn,i.safe_not_equal,{manifest:10,blockumentId:0,prefetch:1},Yn)}}const Zn=Dn;var Fn=n(2834),Xn=n.n(Fn);const Un=((t,e={width:"100%"},n="div")=>i=>{const o=(0,Fn.useRef)(null),a=(0,Fn.useRef)(null),[r,s]=(0,Fn.useState)(!1);return(0,Fn.useEffect)((()=>{const e=/on([A-Z]{1,}[a-zA-Z]*)/,n=/watch([A-Z]{1,}[a-zA-Z]*)/;a.current=new t({target:o.current,props:i});const r=[];for(const t in i){const o=t.match(e),s=t.match(n);null!=o&&"function"==typeof i[t]&&a.current.$on(`${o[1][0].toLowerCase()}${o[1].slice(1)}`,i[t]),null!=s&&"function"==typeof i[t]&&r.push([`${s[1][0].toLowerCase()}${s[1].slice(1)}`,i[t]])}if(r.length>0){const t=a.current.$$.update;a.current.$$.update=function(){r.forEach((([t,e])=>{if(null!==a.current){const n=a.current.$$.props[t];e(a.current.$$.ctx[n])}})),t.apply(null)}}return()=>{null!==a.current&&a.current.$destroy()}}),[i]),(0,Fn.useEffect)((()=>{r?null!==a.current&&a.current.$set(i):s(!0)}),[i,r]),Xn().createElement(n,{ref:o,style:e})})(Zn),Vn=t=>Xn().createElement(Un,{...t})}}]);